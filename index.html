<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desa Tegongan</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Portal Berita Desa Tegongan</h1>
    </header>
    <main id="berita-list">
        <p>Memuat berita...</p>
    </main>
    <footer>
        <p>Â© 2025 Desa Tegongan</p>
    </footer>
    <script>
    async function loadBerita() {
        let container = document.getElementById("berita-list");
        container.innerHTML = "";
        const files = await fetch("https://api.github.com/repos/USERNAME/desategongan2025/contents/posts");
        const data = await files.json();
        for (let file of data) {
            if (file.name.endsWith(".md")) {
                let res = await fetch(file.download_url);
                let text = await res.text();
                let title = text.split("\n")[0].replace("# ", "");
                container.innerHTML += `<article><h2><a href="berita.html?file=${file.name}">${title}</a></h2></article>`;
            }
        }
    }
    loadBerita();
    </script>
</body>
</html>